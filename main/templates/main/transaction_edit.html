{% extends 'main/user_layout.html' %}
{% block title %}
    <title>Update {% if object.type == 'E' %}Expense{% elif object.type == 'I' %}Income{% endif %}</title>
{% endblock %}
{% load crispy_forms_tags %}
{% block body %}
<div class="text-center my-5">
    <h2>Update {% if object.type == 'E' %}<span>Expense</span>{% elif object.type == 'I' %}<span>Income</span>{% endif %}</h2>
</div>
<div class="d-flex  justify-content-center">
    <div class=" bg-light p-3 col-md-4">
        {% if messages %}
            {% for message in messages %}
            <div class="alert alert-warning alert-dismissible fade show" role="alert">
                {{message}}
                <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            {% endfor %}
        {% endif %}
        <form action="{% url 'main:edit_transaction' pk=object.id %}" method="post" class="px-3 ">
            {% csrf_token %}
            <!-- {% crispy form %} -->
            <div class="form-group my-2">
                {{ form.name|as_crispy_field }}
            </div>
            <div class="form-group my-2">
                {{ form.object_id|as_crispy_field }}
            </div>
            <div class="form-group my-2">
                {{ form.amount|as_crispy_field }}
            </div>
            <div class="form-group my-2">
                {{ form.category|as_crispy_field }}
            </div>
            <div class="form-group my-2">
                {{ form.date|as_crispy_field }}
            </div>
            <div class="col-12 d-flex justify-content-end my-3">
                <a class="btn btn-secondary mx-3" href="{% url 'main:main' %}">Cancel</a>
                <input class="btn btn-primary " type="submit" value="Update">
            </div>
        </form>
    </div>
</div>
{% endblock %}