{% extends 'main/user_layout.html' %}
{% block title %}
    <title>Register</title>
{% endblock %}
{% block body %}
<div class="text-center my-5">
    <h2>Register</h2>
</div>
<div class="d-flex  justify-content-center">
    <div class=" bg-light p-3">
        {% if messages %}
        {% for message in messages %}
        <div class='text-danger'>{{ message }}</div>
        {% endfor %}
        {% endif %}

        <form action="{% url 'main:register' %}" method="post" class="px-3 py-3 ">
            {% csrf_token %}
            <div class="form-group">
                <input class="form-control" autofocus type="text" name="username" placeholder="Username"
                    hx-post="{% url 'main:check_username' %}" hx-trigger="keyup changed delay:500ms"
                    hx-target="#username_check_text" hx-swap="outerHTML">
                <p class="text-muted mx-2" id="username_check_text"></p>
            </div>
            <div class="form-group my-3">
                <input class="form-control" type="email" name="email" placeholder="Email Address">
            </div>
            <div class="form-group my-3">
                <input class="form-control" type="password" name="password" placeholder="Password">
            </div>
            <div class="form-group my-3">
                <input class="form-control" type="password" name="confirmation" placeholder="Confirm Password">
            </div>
            <input class="btn btn-primary" type="submit" value="Register">
        </form>
        <div>
            Already have an account? <a href="{% url 'main:login' %}">Log In here.</a>
        </div>
    </div>

</div>


{% endblock %}